<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="microzz"><link rel="alternative" href="/atom.xml" title="ECUT Club" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title> - ECUT Club</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script><!-- Hotjar Tracking Code for ochukai.me --></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">ECUT Club</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/archives" class="head-nav__link">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head">  <time datetime="2017-04-19T00:24:13.803Z" class="post__time">April 19, 2017</time><h1 class="post__title"><a href="/2017/04/19/vue-music2/"></a></h1><div class="post__main echo"><hr>
<p>title: Vue.js音乐播放器升级版<br>date: 2017-04-08 07:08:28<br>tags:</p>
<ul>
<li>Vue.js</li>
<li>JavaScript</li>
<li>ES6</li>
<li>JS</li>
<li>ECMAScript6</li>
<li>HTML5</li>
<li>SASS</li>
<li>SCSS</li>
</ul>
<hr>
<h1 id="Vue-js音乐播放器2-0升级版"><a href="#Vue-js音乐播放器2-0升级版" class="headerlink" title="Vue.js音乐播放器2.0升级版"></a>Vue.js音乐播放器2.0升级版</h1><p>之前初学Vue做了一个音乐播放器，受到不少人的喜欢。现在升级版来了！功能更强，技术栈更多。</p>
<h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><p>源代码地址：👉 <a href="https://github.com/microzz/vue-music-player" target="_blank" rel="external">GitHub</a><br>欢迎大家star和follow😄</p>
<h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><h3 id="在线预览"><a href="#在线预览" class="headerlink" title="在线预览"></a>在线预览</h3><p>在线预览地址：👉 <a href="https://microzz.com/vue-music/" target="_blank" rel="external">Vue音乐播放器</a></p>
<h3 id="预览图"><a href="#预览图" class="headerlink" title="预览图"></a>预览图</h3><p><img src="https://icdn.microzz.com/20170408_vue_music/preview.gif" alt="Vue音乐播放器升级版 - microzz.com"><br>更多预览图请看👉 <a href="https://github.com/microzz/vue-music-player/tree/2.0.0/preview" target="_blank" rel="external">更多</a></p>
<h2 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h2><p><strong>Vue2</strong>：采用最新Vue2的语法😁<br><strong>Vuex</strong>：实现不同组件之间的状态共享✌️<br><strong>vue-router</strong>：单页应用路由管理必备😎<br><strong>axios</strong>：发起http请求😉<br><strong>SASS(SCSS)</strong>：css预处理语言💪<br><strong>Express</strong>(上线版本是<strong>Koa2</strong>)：因为vue-cli是用的Express做服务器，所以开源的开发版本是Express，自己生产环境用的是Koa2。 😜<br><strong>Webpack</strong>：自动化构建工具，大部分配置vue-cli脚手架已经弄好了，很方便。😏<br><strong>ES6</strong>：采用ES6语法，这是趋势。👏<br><strong>localStorage(HTML5)</strong>：本地存储，保存用户个性化设置。😊<br><strong>CSS3</strong>：CSS3动画及样式。👍</p>
<h2 id="使用-Build-Setup"><a href="#使用-Build-Setup" class="headerlink" title="使用 Build Setup"></a>使用 Build Setup</h2><pre><code class="bash"><span class="comment"># install dependencies</span>
npm install

<span class="comment"># serve with hot reload at localhost:8080</span>
npm run dev

<span class="comment"># build for production with minification</span>
npm run build

<span class="comment"># build for production and view the bundle analyzer report</span>
npm run build --report
</code></pre>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><ol>
<li><p>vuex什么时候使用，如何使用，就要看项目需要。引用 Redux 的作者 Dan Abramov 的话说就是：</p>
<blockquote>
<p>Flux 架构就像眼镜：您自会知道什么时候需要它。</p>
</blockquote>
<p>各组件之间状态共享也是难点。</p>
</li>
<li><p>异步编程：JS是单线程，异步编程尤为重要。当我们向后端请求数据，是异步的，如果没有处理好相关的异步操作，是会有各种问题的。JS可以利用<code>setTimeout</code>、<code>回调</code>、<code>Generator</code>、<code>Promise</code>、<code>Async</code>。<br>定时这种方式太麻烦，还是不推荐；回调层次多了，有回调地狱，代码维护性很差；Generator需要手动去执行，当然可以使用类似<code>co</code>的模块。相比之下<code>Promise</code>和<code>Async</code>是比较理想的。(详看👉<a href="https://microzz.com/2017/01/14/promise/" target="_blank" rel="external">Promise对象</a>、<a href="https://microzz.com/2017/01/15/async/" target="_blank" rel="external">异步操作和Async函数</a>)</p>
</li>
<li>本项目中使用了QQ音乐和One(一个)的接口，后端API编写也是难点，包含了各种异步请求。对返回数据的解析也是难点，有的时候你还需要对数据进行解码。</li>
<li>各组件结构的设计：一开始大纲没设计好，后面想修改涉及面会很广。</li>
<li>过渡动画让交互更有趣，但是有的还是耗性能的，有设备差异，没用好会造成卡顿。</li>
</ol>
<p>【声明】：本项目仅供学习交流，请不要用做任何商业用途😊有任何疑问请联系作者📩<a href="mailto:zhaohui@microzz.com" target="_blank" rel="external">zhaohui@microzz.com</a></p>
<h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><p>源代码地址：👉 <a href="https://github.com/microzz/vue-music-player" target="_blank" rel="external">GitHub</a><br>个人网站：🔗<a href="https://microzz.com/" target="_blank" rel="external">microzz-IT技术分享</a><br>GitHub：🔗<a href="https://github.com/microzz" target="_blank" rel="external">microzz</a></p>
</div></header></article><section class="reward"> <a href="#" class="btn-reward">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png"></div></section></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2016-2017 microzz</div><menu class="page-menu u-fr"><li class="page-menu__item"><a title="Previous" href="/2017/04/19/vue-music/" class="page-menu__link icon-arrow-left"></a></li><li class="page-menu__item"><a title="Next" href="/2017/04/19/vue-note/" class="page-menu__link icon-arrow-right"></a></li></menu></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>