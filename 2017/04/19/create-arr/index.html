<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="microzz"><link rel="alternative" href="/atom.xml" title="ECUT Club" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title> - ECUT Club</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script><!-- Hotjar Tracking Code for ochukai.me --></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">ECUT Club</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/archives" class="head-nav__link">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head">  <time datetime="2017-04-19T00:24:13.319Z" class="post__time">April 19, 2017</time><h1 class="post__title"><a href="/2017/04/19/create-arr/"></a></h1><div class="post__main echo"><hr>
<p>title: 【面试题】创建长度为100的数组<br>date: 2017-03-24 18:57:25<br>tags:</p>
<ul>
<li>ES6</li>
<li>ECMAScrpt6</li>
<li>JavaScript</li>
<li>JS</li>
<li>Array</li>
</ul>
<hr>
<h1 id="不用循环创建一个长度为100的数组，并且每个元素的值等于它的下标"><a href="#不用循环创建一个长度为100的数组，并且每个元素的值等于它的下标" class="headerlink" title="不用循环创建一个长度为100的数组，并且每个元素的值等于它的下标"></a>不用循环创建一个长度为100的数组，并且每个元素的值等于它的下标</h1><p>先来说一下最直接的解法…</p>
<pre><code class="javascript"><span class="keyword">var</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>, <span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>];
</code></pre>
<p>…</p>
<p>接下来转入正题。。。</p>
<h2 id="传统for循环"><a href="#传统for循环" class="headerlink" title="传统for循环"></a>传统for循环</h2><p>来说一下传统的for循环：</p>
<pre><code class="javascript"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">100</span>)
<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) {
  arr[i] = i;
}
arr; <span class="comment">// [0, 1, ..., 99]</span>
</code></pre>
<p>想必大家都没什么问题👍</p>
<h2 id="不用for循环"><a href="#不用for循环" class="headerlink" title="不用for循环"></a>不用for循环</h2><p>但是如何不用<code>for</code>循环实现呢？</p>
<h3 id="ES5的实现"><a href="#ES5的实现" class="headerlink" title="ES5的实现"></a>ES5的实现</h3><pre><code class="javascript"><span class="built_in">Object</span>.keys(<span class="built_in">Array</span>.from({ <span class="attr">length</span>: <span class="number">100</span> }));  
<span class="comment">// ["0", "1", "2", ..., "98", "99"]</span>
</code></pre>
<p>什么？<code>Array.from</code>是ES6的？没事，我们可以换成ES5的😄</p>
<pre><code class="javascrript">Object.keys(
Array.apply(null,{ length: 100 }));
</code></pre>
<p>这样似乎的确完成了功能，但是还有一个问题，此时值是字符串类型，所以我们可以用ES5的<code>map</code>方法进行处理一下：</p>
<pre><code class="javascript"><span class="built_in">Object</span>.keys(<span class="built_in">Array</span>.from({ <span class="attr">length</span>: <span class="number">100</span> })).map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>{
    <span class="keyword">return</span> +item;
});
</code></pre>
<p>这里用了一个小技巧，字符串前面加一个 “+” 就可以转成数字。如果你不喜欢这样，可以使用parseInt，也是一样的效果。</p>
<h3 id="ES6的实现"><a href="#ES6的实现" class="headerlink" title="ES6的实现"></a>ES6的实现</h3><h4 id="普通实现"><a href="#普通实现" class="headerlink" title="普通实现"></a>普通实现</h4><p>ES6中数组实例有<code>keys</code>、<code>values</code>、<code>entries</code>方法，分别用于遍历数组的索引、键值、键值对，它们都返回<strong>遍历器对象</strong>（详细👉<a href="https://microzz.com/2017/01/12/iterator/" target="_blank" rel="external">Iterator和for…of循环</a>）</p>
<p>因此我们可以用ES6的<code>Array.from</code>转成数组：</p>
<pre><code class="javascript"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">100</span>).keys());
</code></pre>
<h4 id="优雅进阶-扩展运算符"><a href="#优雅进阶-扩展运算符" class="headerlink" title="优雅进阶 - 扩展运算符"></a>优雅进阶 - 扩展运算符</h4><p>ES6新增 <code>...</code> <strong>扩展运算符</strong>，极大方便了相关操作(详见👉<a href="扩展运算符">函数的扩展</a>里面的扩展运算符)</p>
<p>因此我们可以更加优雅地实现：</p>
<pre><code class="javascript">[...Array(<span class="number">100</span>).keys()]
</code></pre>
<p>或者</p>
<pre><code class="javascript">[...Array.from({ <span class="attr">length</span>: <span class="number">100</span> }).keys()]
</code></pre>
<p>思路就是这样，当然我们还可以混合搭配出各种解法，甚至ES5、ES6混合😂有可能还有各种奇妙解法，每个人去细细专研吧😊</p>
</div></header></article><section class="reward"> <a href="#" class="btn-reward">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png"></div></section></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2016-2017 microzz</div><menu class="page-menu u-fr"><li class="page-menu__item"><a title="Previous" href="/2017/04/19/class/" class="page-menu__link icon-arrow-left"></a></li><li class="page-menu__item"><a title="Next" href="/2017/04/19/crawler/" class="page-menu__link icon-arrow-right"></a></li></menu></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>